* 闭包是指有权访问另一个函数作用域中的变量的函数，创建闭包常见的方式是在一个函数内部创建另一个函数。
* 闭包的作用于链中会包含外部函数的活动对象，外部函数在执行完毕后活动对象不会被销毁，直到闭包会被销毁。

# 闭包与变量

闭包只能取得包含函数中任何变量的最后一个值。可以通过创建一个立即执行的匿名函数来让闭包的行为符合预期。

# 关于this对象

匿名函数的执行环境具有全局性，其this对象通常指向window，可以把外部作用域的this对象保存在闭包能够访问的变量里就可以让闭包访问该对象。arguments也是一样的。

# 内存泄漏

如果闭包的作用域链中保存着HTML元素会导致元素无法被销毁，可以使用一个变量保存副本，然后设置为null销毁

# 模仿块级作用域

* 立即执行函数
* 函数声明后面不能跟括号，函数表达式可以，可以加一对括号将声明转换为表达式

# 私有变量

特权方法：有权访问私有变量和私有函数的公共方法

* 可以在构造函数里定义特权方法，但是会导致每个实例都创建
* 私有变量和私有函数为实例独有

#### 静态私有变量

  在私有作用域中定义私有变量和私有函数，然后定义一个构造函数和公有方法，公有方法是在原型上定义的。

```js
(function() {
    var privateVariable = 10;
    function privateFunction() {
        return false;
    };
    MyObject = function(){};
    MyObject.prototype.publicMethod = function() {
        privateVariable++;
        return privateVariable;
    }
}
```

私有变量和私有函数由实例共享

####模块模式
为单例创建私有方法和私有变量。单例是指只有一个实例的对象，用对象字面量来创建。
使用一个返回对象的匿名函数，在函数内部定义私有变量和私有函数，返回一个对象字面量，里面包括公开的属性和方法，本质上定义的是单例的公共接口
适用于需要初始化单例同时维护私有变量的时候
####增强的模块模式
在匿名函数内部创建一个特定实例的对象并为其添加公共属性和方法，返回这个对象。
适用于单例为特定的实例的时候


    



